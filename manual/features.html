<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Features &mdash; Ramona 0.9 beta 8 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.9 beta 8',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Ramona 0.9 beta 8 documentation" href="index.html" />
    <link rel="next" title="Configuration" href="config.html" />
    <link rel="prev" title="Installation" href="install.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="config.html" title="Configuration"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="install.html" title="Installation"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">Ramona 0.9 beta 8 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="features">
<h1>Features<a class="headerlink" href="#features" title="Permalink to this headline">¶</a></h1>
<img alt="_images/execmodel.png" src="_images/execmodel.png" />
<div class="section" id="program-and-program-roaster">
<h2>Program and program roaster<a class="headerlink" href="#program-and-program-roaster" title="Permalink to this headline">¶</a></h2>
<p>Ramona maintains pre-configured set of programs; these programs are placed in a &#8216;roaster&#8217;, list that is managed by Ramona server.
Each program in this roaster has a status that reflects its current phase of life cycle. Ramona is responsible for supervising of these programs in terms of their uptime, eventual restarts, logging etc.</p>
<div class="section" id="list-of-program-statuses">
<h3>List of program statuses<a class="headerlink" href="#list-of-program-statuses" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><ul class="simple">
<li>DISABLED - program is disabled by configuration; Ramona will not launch this program at any condition.</li>
<li>STOPPED - program is stopped (not running); you can launch it by &#8216;start&#8217; command.</li>
<li>STARTING - program has been just launched.</li>
<li>RUNNING - program is running for some time already.</li>
<li>STOPPING - program has been asked to terminate but it has not exited yet.</li>
<li>FATAL - program exited in a errorneous way (maybe several times in row) and Ramona evaluated this as non-recoverable error.</li>
<li>CFGERROR - program is incorrectly configured and cannot be launched.</li>
</ul>
</div></blockquote>
<img alt="_images/progstates.png" src="_images/progstates.png" />
</div>
</div>
<div class="section" id="command-line-console">
<h2>Command-line console<a class="headerlink" href="#command-line-console" title="Permalink to this headline">¶</a></h2>
<p>Ramona provides command-line console, a tool that allows interaction with Ramona server and thru this controlling of all application programs. This tool can be tighly integrated with application that uses Ramona and it is designed to represent &#8216;single point of execution&#8217; of given application.</p>
<p>This approach simplifies maintenance of the application and allow easy operating of even complex applications consisting of many different programs.</p>
<p>User can also add their custom commands (see <a class="reference internal" href="#custom-tools">custom tools</a>) to cover all needs of its application.</p>
</div>
<div class="section" id="logging-and-log-scanning">
<h2>Logging and log scanning<a class="headerlink" href="#logging-and-log-scanning" title="Permalink to this headline">¶</a></h2>
<p>Ramona monitors <a class="reference external" href="http://en.wikipedia.org/wiki/Standard_streams">standard output</a> and <a class="reference external" href="http://en.wikipedia.org/wiki/Standard_streams">standard error</a> streams of all its supervisored programs. These streams are persisted to files on a filesystem in a highly configurable way. It is a primary way of how Ramona approaches logging so programs are advised to log using standard streams instead on logging into log files. It also enables Ramona to capture any other textual output of the program that may not be captured by typical logging mechanism like unexpected kills or top-level exceptions.</p>
<p>Ramona also allows to configure scanner that seeks thru log streams for given patterns and if such a pattern is found, then Ramona notifies about such an event via email.</p>
</div>
<div class="section" id="email-notifications">
<h2>Email notifications<a class="headerlink" href="#email-notifications" title="Permalink to this headline">¶</a></h2>
<p>TODO</p>
</div>
<div class="section" id="custom-tools">
<h2>Custom tools<a class="headerlink" href="#custom-tools" title="Permalink to this headline">¶</a></h2>
<p>TODO</p>
<p>Example of tool function:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">FooConsoleApp</span><span class="p">(</span><span class="n">ramona</span><span class="o">.</span><span class="n">console_app</span><span class="p">):</span>

      <span class="nd">@ramona.tool</span>
      <span class="k">def</span> <span class="nf">mytool</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
              <span class="sd">&#39;&#39;&#39;This is help text of my tool&#39;&#39;&#39;</span>
              <span class="o">...</span>
</pre></div>
</div>
<p>Example of tool class:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">FooConsoleApp</span><span class="p">(</span><span class="n">ramona</span><span class="o">.</span><span class="n">console_app</span><span class="p">):</span>

      <span class="nd">@ramona.tool</span>
      <span class="k">class</span> <span class="nc">mytool</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
              <span class="sd">&#39;&#39;&#39;This is help text of my tool&#39;&#39;&#39;</span>

              <span class="k">def</span> <span class="nf">init_parser</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cnsapp</span><span class="p">,</span> <span class="n">parser</span><span class="p">):</span>
                      <span class="n">parser</span><span class="o">.</span><span class="n">description</span> <span class="o">=</span> <span class="s">&#39;...&#39;</span>
                      <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>

              <span class="k">def</span> <span class="nf">main</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cnsapp</span><span class="p">,</span> <span class="n">args</span><span class="p">):</span>
                      <span class="o">...</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This manual is actually build using this feature, by executing <tt class="docutils literal"><span class="pre">./ramona.py</span> <span class="pre">manual</span></tt>.</p>
</div>
</div>
<div class="section" id="ramona-environment-variables">
<h2>Ramona environment variables<a class="headerlink" href="#ramona-environment-variables" title="Permalink to this headline">¶</a></h2>
<p>Ramona sets following environment variables to propagate certain information to programs, that are launched as Ramona subprocesses.
This allows exchange of configuration information in a control way, helping to keep overall configuration nice and tidy.</p>
<dl class="attribute">
<dt id="RAMONA_CONFIG">
<tt class="descname">RAMONA_CONFIG</tt><a class="headerlink" href="#RAMONA_CONFIG" title="Permalink to this definition">¶</a></dt>
<dd><p>This environment variable specifies list of configuration files that has been used to configure Ramona server.
List is ordered (configuration values can overlap so correct override behaviour needs to be maintained) and its separator is &#8216;:&#8217; for POSIX or &#8216;;&#8217; for Windows. See <tt class="docutils literal"><span class="pre">os.pathsep</span></tt> in Python.</p>
<p>Client application can use this variable to read configuration from same place(s) as Ramona did.</p>
</dd></dl>

<dl class="attribute">
<dt id="RAMONA_SECTION">
<tt class="descname">RAMONA_SECTION</tt><a class="headerlink" href="#RAMONA_SECTION" title="Permalink to this definition">¶</a></dt>
<dd><p>This environment variable reflect name of section in Ramona configuration files that in relevant for actual program (subprocess of Ramona). Uses can use this value to reach program specific configuration options.</p>
</dd></dl>

<p>Example:</p>
<blockquote>
<div><div class="highlight-ini"><div class="highlight"><pre><span class="k">[program:envdump]</span>
<span class="na">command</span><span class="o">=</span><span class="s">bash -c &quot;echo RAMONA_CONFIG: ${RAMONA_CONFIG}; echo RAMONA_SECTION: ${RAMONA_SECTION}&quot;</span>
</pre></div>
</div>
</div></blockquote>
<p>This produces following output:</p>
<blockquote>
<div><div class="highlight-console"><div class="highlight"><pre><span class="go">RAMONA_CONFIG: ./test.conf</span>
<span class="go">RAMONA_SECTION: program:envdump</span>
</pre></div>
</div>
</div></blockquote>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Configuration files are compatible with Python Standart Library <tt class="docutils literal"><span class="pre">ConfigParser</span></tt> module.
You can read configuration files using this module in order given by <tt class="docutils literal"><span class="pre">RAMONA_CONFIG</span></tt> environment variable and access configuration values. You can use <tt class="docutils literal"><span class="pre">RAMONA_SECTION</span></tt> environment variable to identify section in configuration files that is relevant to your actual program.</p>
</div>
</div>
<div class="section" id="web-console">
<h2>Web console<a class="headerlink" href="#web-console" title="Permalink to this headline">¶</a></h2>
<a class="reference internal image-reference" href="_images/httpfend.png"><img alt="_images/httpfend.png" src="_images/httpfend.png" style="width: 600px;" /></a>
<p>Displays states of supervised programs using web browser. It also allows user to start/stop/restart each or all of them or retrieve recent standart output and/or standard error of each program.</p>
</div>
<div class="section" id="windows-service">
<h2>Windows service<a class="headerlink" href="#windows-service" title="Permalink to this headline">¶</a></h2>
<p>Ramona is using <a class="reference external" href="http://en.wikipedia.org/wiki/Windows_service">Window Services</a> for background execution on Windows platform.
It also depends on <tt class="docutils literal"><span class="pre">pythonservice.exe</span></tt> tool from <a class="reference external" href="http://sourceforge.net/projects/pywin32/">Python for Windows extensions</a> package. Therefore it is possible to install Ramona equipped application as Windows Service via commands that are provided by Ramona system. This can be used for automatic start-up after system (re)boot or to enable smooth development on Windows machine.</p>
<p>For more details continue to:</p>
<ul class="simple">
<li><a class="reference internal" href="cmdline-wininstall.html#cmdline-wininstall"><em>wininstall (command-line)</em></a></li>
<li><a class="reference internal" href="cmdline-winuninstall.html#cmdline-winuninstall"><em>winuninstall (command-line)</em></a></li>
</ul>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Features</a><ul>
<li><a class="reference internal" href="#program-and-program-roaster">Program and program roaster</a><ul>
<li><a class="reference internal" href="#list-of-program-statuses">List of program statuses</a></li>
</ul>
</li>
<li><a class="reference internal" href="#command-line-console">Command-line console</a></li>
<li><a class="reference internal" href="#logging-and-log-scanning">Logging and log scanning</a></li>
<li><a class="reference internal" href="#email-notifications">Email notifications</a></li>
<li><a class="reference internal" href="#custom-tools">Custom tools</a></li>
<li><a class="reference internal" href="#ramona-environment-variables">Ramona environment variables</a></li>
<li><a class="reference internal" href="#web-console">Web console</a></li>
<li><a class="reference internal" href="#windows-service">Windows service</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="install.html"
                        title="previous chapter">Installation</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="config.html"
                        title="next chapter">Configuration</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/features.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="config.html" title="Configuration"
             >next</a> |</li>
        <li class="right" >
          <a href="install.html" title="Installation"
             >previous</a> |</li>
        <li><a href="index.html">Ramona 0.9 beta 8 documentation</a> &raquo;</li> 
      </ul>
    </div>

    <div class="footer">
        &copy; Copyright 2012, Ales Teska.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2b1.
    </div>
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-34843194-1");
pageTracker._trackPageview();
} catch(err) {}</script>

  </body>
</html>